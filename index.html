<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Nạp Thẻ</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #e9e9e9;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
}
.box {
    background: white;
    padding: 20px;
    width: 300px;
    border-radius: 8px;
}
label {
    display: block;
    margin-top: 10px;
}
input, select, button {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
}
button {
    background: #28a745;
    color: white;
    border: none;
    cursor: pointer;
}
button:hover {
    background: #218838;
}
#result {
    margin-top: 15px;
    font-size: 14px;
}
</style>
</head>
<body>
<div class="box">
    <h3>Nạp Thẻ</h3>

    <label>Loại thẻ</label>
    <select id="type">
        <option value="VTT">Viettel</option>
        <option value="VNP">Vinaphone</option>
        <option value="VMS">Mobiphone</option>
    </select>

    <label>Mệnh giá</label>
    <select id="amount">
        <option value="10000">10000</option>
        <option value="20000">20000</option>
        <option value="50000">50000</option>
        <option value="100000">100000</option>
        <option value="200000">200000</option>
        <option value="500000">500000</option>
    </select>

    <label>Mã thẻ</label>
    <input id="pin" placeholder="Nhập mã thẻ">

    <label>Seri</label>
    <input id="seri" placeholder="Nhập seri">

    <button onclick="napThe()">Gửi Thẻ</button>

    <div id="result"></div>
</div>

<script>
function napThe() {
    var type = document.getElementById("type").value;
    var amount = document.getElementById("amount").value;
    var pin = document.getElementById("pin").value.trim();
    var seri = document.getElementById("seri").value.trim();
    var result = document.getElementById("result");

    if(pin === "" || seri === ""){
        result.textContent = "Điền đầy đủ thông tin";
        return;
    }

    var data = {
        partner_id: "9172031604",
        partner_key: "db43f002d62655fd427d3bfb30999e88",
        type: type,
        amount: amount,
        pin: pin,
        seri: seri
    };

    result.textContent = "Đang gửi thẻ...";

    fetch("https://gachthefast.vn/chargingws/v2", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(data)
    })
    .then(res => res.json())
    .then(res => {
        result.textContent = JSON.stringify(res, null, 2);
    })
    .catch(err => {
        result.textContent = "Lỗi kết nối hoặc API chặn CORS";
    });
}
</script>

</body>
</html>
